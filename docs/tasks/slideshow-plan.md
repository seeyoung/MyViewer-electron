# Slideshow (Root-Preserving) Implementation Plan

## Goal
루트 폴더를 유지하면서 하위 폴더/압축을 자동 순회하는 슬라이드쇼를 구현한다. 슬라이드쇼 엔트리는 루트 경로만 보관하고, `userOpen` 옵션으로 사용자 조작과 자동 전환을 구분한다.

## Phase 1 – 열기 플로우 정리 (완료)
- [x] `userOpen` 옵션 도입 (`openArchive`/`openFolder`).
- [x] `userOpen === true`일 때만 최근/Default/마지막 페이지 복원 처리.
- [x] `userOpen === false`일 때는 항상 첫 페이지부터 시작하고 상태 저장 생략.

2. **사용자 열기 동작**
   - [ ] 사용자가 직접 새 폴더를 열 때, 기존 엔트리가 2개 이상이면 "기존 목록이 사라집니다" 알림을 띄워 확인 후 진행.
   - [ ] 확인 시 기존 엔트리를 모두 초기화하고, 새 루트를 첫 엔트리로 설정.

## Phase 2 – 슬라이드쇼 관리 확장
1. **엔트리 추가 플로우**
   - [ ] 최근 목록/외부 파인더에서 폴더·압축 파일을 슬라이드쇼 목록 위로 드래그 앤 드롭해 엔트리를 추가할 수 있도록 드롭 존을 정의한다.
   - [ ] 동일 경로도 여러 번 추가될 수 있도록 허용하고, 추가 순서를 유지하며 필요한 경우 수동 정렬 인터페이스를 고려한다.
   - [ ] 드롭 성공 시 사용자에게 토스트/시각적 피드백을 제공하고, 자동저장/최근 목록 동기화를 수행한다.
2. **목록 편집**
   - [ ] 각 엔트리 행에 제거 버튼 또는 컨텍스트 메뉴를 제공해 사용자가 슬라이드쇼 큐에서 선택 항목을 삭제할 수 있게 한다.
   - [ ] 엔트리가 삭제될 때 현재 재생 중인 항목에 영향이 있는 경우 재생 상태 업데이트(다음 항목 선택 or 슬라이드쇼 종료)를 정의한다.
   - [ ] 슬라이드쇼 큐를 저장할 때 목록 이름을 입력받고, 기존에 동일 이름이 존재하면 중복 알림과 함께 새 이름을 다시 입력할 수 있는 UX를 제공한다.
   - [ ] 목록 저장 시 엔트리 배열과 메타데이터(생성 시각, 표시 이름 등)를 persist layer에 함께 기록한다.
3. **자동 전환 연동**
   - [ ] 현재 엔트리의 마지막 이미지를 표시한 후에는 목록의 다음 엔트리를 `openFolder`/`openArchive` (`userOpen === false`)로 로드해 기존 자동 순회 로직을 재사용한다.
   - [ ] 다음 엔트리가 없을 때의 처리(슬라이드쇼 종료, 루프 옵션 등)를 명확히 정의하고 사용자에게 알린다.

## Phase 5 – 검증
1. **수동 테스트**
   - [ ] 루트 열기 → 슬라이드쇼 시작 → 하위 폴더 자동 순회 확인.
   - [ ] 알림 팝업이 정상 동작하는지 확인.
2. **빌드/타입 체크**
   - [ ] `npm run type-check`
   - [ ] `npm run build:main`
